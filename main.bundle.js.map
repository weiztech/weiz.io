{"version":3,"sources":["/home/jensen/skor-place-web/src/$_lazy_route_resource lazy","/home/jensen/skor-place-web/src/app/app.component.css","/home/jensen/skor-place-web/src/app/app.component.html","/home/jensen/skor-place-web/src/app/app.component.ts","/home/jensen/skor-place-web/src/app/app.module.ts","/home/jensen/skor-place-web/src/app/skor-map/skor-map.component.css","/home/jensen/skor-place-web/src/app/skor-map/skor-map.component.html","/home/jensen/skor-place-web/src/app/skor-map/skor-map.component.ts","/home/jensen/skor-place-web/src/environments/environment.ts","/home/jensen/skor-place-web/src/main.ts","/home/jensen/skor-place-web/src/services/main.service.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../src/$$_lazy_route_resource lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/jensen/skor-place-web/src/$$_lazy_route_resource lazy\n// module id = ../../../../../src/$$_lazy_route_resource lazy recursive\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\n  padding-bottom: 20px;\\n}\\n\\n.navbar {\\n  margin-bottom: 20px;\\n}\\n\\n.footer {\\n  padding-top: 1.5rem;\\n  color: #777;\\n  border-top: .05rem solid gray;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/jensen/skor-place-web/src/app/app.component.css\n// module id = ../../../../../src/app/app.component.css\n// module chunks = main","module.exports = \"<div class=\\\"container\\\">\\n  <main role=\\\"main\\\" style=\\\"margin-top:10px;\\\">\\n    <div class=\\\"jumbotron\\\">\\n      <div class=\\\"col-sm-12 mx-auto\\\" style=\\\"margin-top:-40px;\\\">\\n        <h1>SkorPlace - Demo</h1>\\n        <app-skor-map></app-skor-map>\\n        <br/>\\n        <footer class=\\\"footer\\\">\\n          <p>The site only for demo purpose.</p>\\n        </footer>\\n      </div>\\n    </div>\\n  </main>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/jensen/skor-place-web/src/app/app.component.html\n// module id = ../../../../../src/app/app.component.html\n// module chunks = main","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'app';\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/jensen/skor-place-web/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from \"@angular/common/http\";\n\nimport { AgmCoreModule } from '@agm/core';\nimport { AgmSnazzyInfoWindowModule } from '@agm/snazzy-info-window';\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n\nimport { MainService } from '../services/main.service';\n\nimport { AppComponent } from './app.component';\nimport { SkorMapComponent } from './skor-map/skor-map.component';\nimport { environment } from '../environments/environment';\n\nconsole.log(\"env\", environment)\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    SkorMapComponent\n  ],\n  imports: [\n    FormsModule,\n    BrowserModule,\n    HttpClientModule,\n    AgmCoreModule.forRoot({\n      apiKey: \"AIzaSyBkfxUiMAmNUnC4JnwZEqOnmnf93r0YNVQ\"\n    }),\n    AgmSnazzyInfoWindowModule,\n    AngularFireModule.initializeApp(environment.firebase),\n    AngularFireDatabaseModule,\n    AngularFireAuthModule\n  ],\n  providers: [MainService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /home/jensen/skor-place-web/src/app/app.module.ts","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"agm-map {\\n  height: 450px;\\n  width: 100%;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/jensen/skor-place-web/src/app/skor-map/skor-map.component.css\n// module id = ../../../../../src/app/skor-map/skor-map.component.css\n// module chunks = main","module.exports = \"<p>\\n  Possition ( Lat: {{ position.lat | number:'1.3-3' }} ,Lng: {{ position.lng | number:'1.3-3' }} ), Radius: {{ radius }} meters.\\n</p>\\n<input type=\\\"number\\\" [(ngModel)]=\\\"radius\\\"\\n   (ngModelChange)=\\\"refreshMap()\\\" class=\\\"form-control col-sm-3\\\" placeholder=\\\"Radius in Kilometers\\\">\\n<div class=\\\"form-check\\\">\\n  <label class=\\\"form-check-label\\\">\\n    <input type=\\\"checkbox\\\" [(ngModel)]=\\\"show_all\\\"\\n           (ngModelChange)=\\\"refreshMap()\\\" class=\\\"form-check-input\\\">\\n           Show All Rewards (Show all in 1000km)\\n  </label>\\n</div>\\n<br/>\\n<agm-map [latitude]=\\\"lat\\\" [zoom]=\\\"14\\\" [longitude]=\\\"lng\\\" [disableDefaultUI]=\\\"true\\\">\\n  <agm-circle [latitude]=\\\"position.lat\\\" [fillOpacity]=\\\"0.2\\\" [longitude]=\\\"position.lng\\\" [radius]=\\\"radius*1000\\\"></agm-circle>\\n  <agm-marker [iconUrl]=\\\"'https://weiztech.github.io/assets/image/hiker.png'\\\"\\n    (markerClick)=\\\"clickedMarker()\\\" (dragEnd)=\\\"onDragEnd($event)\\\"\\n    [latitude]=\\\"position.lat\\\" [longitude]=\\\"position.lng\\\" [markerDraggable]=\\\"true\\\">\\n    <agm-snazzy-info-window [maxWidth]=\\\"200\\\" [closeWhenOthersOpen]=\\\"true\\\">\\n      <ng-template>\\n        My Location\\n      </ng-template>\\n    </agm-snazzy-info-window>\\n  </agm-marker>\\n\\n  <agm-marker *ngFor=\\\"let reward of rewards_locations_geo\\\" (markerClick)=\\\"selectReward(reward)\\\" [latitude]=\\\"reward.lat\\\" [longitude]=\\\"reward.lng\\\">\\n    <agm-snazzy-info-window [maxWidth]=\\\"250\\\" [maxHeight]=\\\"500\\\" [closeWhenOthersOpen]=\\\"true\\\">\\n      <ng-template>\\n        <img style=\\\"max-width:100px;\\\" [src]=\\\"getImage(selected_reward.reward_obj.img.display)\\\" />\\n        <br/>\\n        <h6>{{ selected_reward.name }}</h6>\\n        <p>{{ selected_reward.address }}</p>\\n        <p>{{ getDistance(reward.distance) }} meters</p>\\n      </ng-template>\\n    </agm-snazzy-info-window>\\n  </agm-marker>\\n</agm-map>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/jensen/skor-place-web/src/app/skor-map/skor-map.component.html\n// module id = ../../../../../src/app/skor-map/skor-map.component.html\n// module chunks = main","import { Component, OnInit } from '@angular/core';\n\nimport { MainService } from '../../services/main.service';\n\nimport { environment } from '../../environments/environment';\n\n\n\n@Component({\n  selector: 'app-skor-map',\n  templateUrl: './skor-map.component.html',\n  styleUrls: ['./skor-map.component.css']\n})\nexport class SkorMapComponent implements OnInit {\n  lat: number = -6.2505;\n  lng: number = 106.825;\n  radius: number = 1;\n  show_all: boolean = true;\n  position: {lat: number, lng: number} = {lat: -6.252, lng: 106.835};\n  rewards_locations_geo: Array<any> = [];\n\n  rewards: Array<any> = [];\n  reward_locations: Array<any> = [];\n  selected_reward: any;\n\n  url: any;\n  env = environment[\"env\"];\n\n  constructor(private service: MainService) {\n    this.url = environment.url[this.env]\n    service.list_skor(\"skor_category\").valueChanges().subscribe(\n      (resp) => {\n          //console.log(\"categories\", resp)\n      }\n\n    )\n\n    service.list_skor(\"skor_contact\").valueChanges().subscribe(\n      (resp) => {\n          //console.log(\"contacts\", resp)\n      }\n\n    )\n\n    service.list_skor(\"skor_reward_location\").valueChanges().subscribe(\n      (resp) => {\n        this.reward_locations = resp\n      }\n    )\n\n    service.list_skor(\"skor_reward_location\").valueChanges().subscribe(\n      (resp) => {\n        resp.forEach((data: any, i)=> {\n            this.reward_locations[data.id] = data\n        });\n      }\n    )\n\n    service.list_skor(\"skor_rewards\").valueChanges().subscribe(\n      (resp) => {\n        resp.forEach((data: any, i)=> {\n            this.rewards[data.id] = data\n        });\n      }\n    )\n\n    //service.seedDatabase()\n    console.log(\"get locations\", service.getLocations(\n       this.getRadius(),\n       [this.position.lat, this.position.lng]\n      )\n    )\n    //service.rewards_query()\n    this.getRewards()\n\n\n  }\n\n  ngOnInit() {\n  }\n\n  clickedMarker(){\n    console.log(\"clicked\", this)\n  }\n\n  getRewards(){\n    this.service.near_rewards.subscribe(\n      (resp) =>{\n        //console.log(\"near rewards\", resp)\n        this.rewards_locations_geo = resp\n      }\n    )\n  }\n\n  selectReward(reward){\n    this.selected_reward = this.reward_locations[Number(reward.key)]\n    this.selected_reward.reward_obj = this.rewards[Number(this.selected_reward.reward)]\n    console.log(\"selected_reward\", this.selected_reward, this.url)\n  }\n\n  getImage(image){\n    if (image){\n      return this.url + image\n    }\n    return \"https://i0.wp.com/d2leza6sedwevk.cloudfront.net/wp-content/uploads/2017/11/01233544/angular-logo2.png?resize=886%2C668&ssl=1\"\n  }\n\n  getKmRadius(meters){\n    return meters/1000\n  }\n\n  getRadius(){\n    if (this.show_all){\n        return 1000\n    }\n    return this.radius\n  }\n\n  getDistance(distance_km){\n    // return distance in m\n    const meters = distance_km * 1000\n    return meters.toFixed(2)\n  }\n\n  refreshMap(){\n    this.service.resetNearRewards()\n    this.service.getLocations(\n      this.getRadius(),\n      [this.position.lat, this.position.lng]\n    )\n    this.getRewards()\n  }\n\n  onDragEnd(event){\n    this.service.resetNearRewards()\n    this.position = {\n      lat: Number(event.coords.lat.toFixed(3)),\n      lng: Number(event.coords.lng.toFixed(3)),\n    }\n    this.service.getLocations(\n      this.getRadius(),\n      [this.position.lat, this.position.lng]\n    )\n    this.getRewards()\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/jensen/skor-place-web/src/app/skor-map/skor-map.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  /*firebase: {\n    apiKey: \"AIzaSyBajOGVxBwzCKBBUPTNBzfETDBfoJGcUFw\",\n    authDomain: \"testo-83ea4.firebaseapp.com\",\n    databaseURL: \"https://testo-83ea4.firebaseio.com\",\n    projectId: \"testo-83ea4\",\n    storageBucket: \"testo-83ea4.appspot.com\",\n    messagingSenderId: \"102895741749\"\n  },*/\n  firebase: {\n    apiKey: \"AIzaSyCSJxFHoxz9r6Xkmf-0LtReV4MoSjLUMLA\",\n    authDomain: \"staging-skor.firebaseapp.com\",\n    databaseURL: \"https://staging-skor.firebaseio.com\",\n    projectId: \"staging-skor\",\n    storageBucket: \"staging-skor.appspot.com\",\n    messagingSenderId: \"355962584990\"\n  },\n  env: \"stage\",\n  url: {\n    stage: \"https://staging.skorpoints.com\",\n    local: \"http://localhost:8000\",\n    production: \"https://skorpoints.com\"\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// /home/jensen/skor-place-web/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n\n\n\n// WEBPACK FOOTER //\n// /home/jensen/skor-place-web/src/main.ts","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs/Observable';\n\nimport { BehaviorSubject } from 'rxjs/BehaviorSubject';\n\nimport * as GeoFire from \"geofire\";\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { AngularFireAuth } from 'angularfire2/auth';\n\n\n@Injectable()\nexport class MainService {\n  user: any;\n  near_rewards = new BehaviorSubject([]);\n\n  dbRef: any;\n  geoFire: any;\n\n\n  constructor(\n    private http: HttpClient,\n    private db: AngularFireDatabase,\n    private afa: AngularFireAuth) {\n\n    const signIn = afa.auth.signInWithEmailAndPassword(\"firebase-user@skor.com\", \"fskor1234\")\n    //const signIn = afa.auth.signInWithEmailAndPassword(\"admin@skor.com\", \"jXyW43\")\n    //const signIn = afa.auth.signInWithEmailAndPassword(\"test@test.com\", \"tester\")\n    signIn.then(value => {\n      this.user = value\n    })\n\n    this.dbRef = this.db.list('skor_reward_location');\n    this.geoFire = new GeoFire(this.dbRef.query);\n\n  }\n\n\n  people(): Observable<any> {\n    return this.http.get('https://swapi.co/api/people/');\n  }\n\n  list_skor(list_name) {\n    return this.db.list(list_name);\n  }\n\n  /// Adds GeoFire data to database\n  setLocation(key: string, coords: Array<number>) {\n    this.geoFire.set(key, coords)\n      .then(_ => console.log('location updated'))\n      .catch(err => console.log(err))\n  }\n\n  resetNearRewards(){\n    this.near_rewards = new BehaviorSubject([]);\n    //console.log(\"reset\", this.near_rewards)\n  }\n\n  getLocations(radius: number, coords: Array<number>) {\n    this.geoFire.query({\n      center: coords,\n      radius: radius\n    })\n      .on('key_entered', (key, location, distance) => {\n        //console.log(\"Key entered Locations\", key, location, distance)\n        let hit = {\n          location: location,\n          distance: distance,\n          key: key,\n          lat: location[0],\n          lng: location[1]\n        }\n        let currentHits = this.near_rewards.value\n        currentHits.push(hit)\n        this.near_rewards.next(currentHits)\n      })\n  }\n\n  seedDatabase() {\n    let dummyPoints = [\n      [-6.221, 106.82],\n      [-6.261, 106.821],\n      [-6.271, 106.822],\n      [-6.251, 106.823],\n      [-6.266, 106.823],\n      [-6.251, 106.828]\n    ]\n    dummyPoints.forEach((val, idx) => {\n      let name = `dummyx-location-${idx}`\n      //console.log(idx)\n      this.setLocation(name, val)\n    })\n  }\n\n  rewards_query() {\n    const dbRef = this.list_skor(\"skor_rewards\")\n    const geo = new GeoFire(dbRef.query);\n    var geoQuery = geo.query({\n      radius: 1000,\n      center: [-6.251, 106.825]\n    })\n    geoQuery.on('key_entered', (key, location, distance) => {\n      //console.log(\"Key entered\", key, location, distance)\n    })\n\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/jensen/skor-place-web/src/services/main.service.ts"],"sourceRoot":"webpack:///"}